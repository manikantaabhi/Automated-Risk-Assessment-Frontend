<!-- Title Section with White Box -->
<div class="title-container">
  <h1 class="title-text">Automatic Risk Assessment and Mitigation Tool</h1>
</div>

<div class="login-container">
  <h1 class="form-title"><i class="fas fa-lock"></i> Login</h1>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <span class="input-icon"><i class="fas fa-user"></i></span>
      <input type="text" class="form-control input-field" id="username" formControlName="username" placeholder="Username" />
    </div>

    <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" class="error-message">
      <span class="attention-icon">⚠️</span>
      <span *ngIf="loginForm.get('username')?.errors?.['required']">Username is required.</span>
      <span *ngIf="loginForm.get('username')?.errors?.['pattern']">Please enter a valid username.</span>
    </div>

    <div class="form-group">
      <span class="input-icon"><i class="fas fa-lock"></i></span>
      <input [type]="passwordFieldType" class="form-control input-field" id="password" formControlName="password" placeholder="Password" (input)="validatePassword()" />
    </div>

    <div *ngIf="showPasswordError" class="error-message">
      <span class="attention-icon">⚠️</span> Please enter a valid password.
    </div>

    <div class="show-password-container">
      <input type="checkbox" id="showPassword" (change)="togglePasswordVisibility()" />
      <label for="showPassword">Show Password</label>
    </div>

    <button type="submit" class="btn btn-green w-100 py-2">Login</button>
    <button type="button" class="btn btn-green w-100 py-2 button-spacing" (click)="onSignup()">Sign Up</button>


    <div class="forgot-password-container">
      <a [routerLink]="['/forgot-password']" class="forgot-password-link">Forgot Password?</a>
    </div>
  </form>

  <div class="mt-3">
    <p *ngIf="responseMessage" class="error-message">
      {{ responseMessage }}
    </p>
  </div>
</div>
